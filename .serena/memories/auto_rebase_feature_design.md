# agbd CLI機能設計

## 概要

git ブランチ削除を自動化する CLI の設計メモ。

## コマンド仕様

```bash
agbd <branch-pattern> [options]
```

### オプション

- `--pattern <regex>`: 削除対象ブランチのフィルタ
- `--remote`: リモートブランチも含める
- `--force`: 未マージブランチも強制削除
- `--dry-run`: 実行せずに計画のみ表示

## 処理フロー

1. **引数解析**: パターン、リモートフラグ、force など
2. **Git操作**: ブランチ一覧を取得し、条件に合致する対象を抽出
3. **確認**: 対話モードの場合は Ink UI で確認・選択
4. **削除実行**: `git branch -d/-D` や `git push <remote> --delete <branch>` を呼び出し
5. **結果表示**: 成功／失敗の一覧を出力

## エラーハンドリング

- ブランチ名の正規表現エラー
- 未マージブランチ削除時の失敗
- リモート削除時の push エラー

## 必要な依存関係

- Git操作: `simple-git`
- UI: Ink のコンポーネント（進捗表示、選択 UI）

## セキュリティ考慮

- 誤操作防止のための保護ブランチ設定
- ドライランによる事前検証
